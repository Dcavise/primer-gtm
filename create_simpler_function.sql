CREATE OR REPLACE FUNCTION public.query_cross_schema(query_text text, query_params jsonb DEFAULT '[]'::jsonb) RETURNS json LANGUAGE plpgsql SECURITY DEFINER AS $$ BEGIN RETURN (SELECT json_build_object('result', (SELECT json_agg(row_to_json(t)) FROM (SELECT * FROM public.campuses LIMIT 10) t))); END; $$; COMMENT ON FUNCTION public.query_cross_schema IS 'Simpler cross-schema query function'; GRANT EXECUTE ON FUNCTION public.query_cross_schema TO authenticated; GRANT EXECUTE ON FUNCTION public.query_cross_schema TO service_role;
